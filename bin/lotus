#!/usr/bin/env ruby

require 'bundler'
Bundler.require
require 'active_support'
require 'active_support/core_ext'
require 'active_record'
require 'yaml'

root = File.expand_path(__dir__ + '/..')
%w{job}.each do |filename|
  require root+'/lib/'+filename
end

%w{sleep create_db}.each do |filename|
  require root+'/jobs/'+filename
end

class Lotus < Thor
  desc 'sleep', 'test job'
  def sleep
    SleepJob.new().execute!
  end

  desc 'create_db', 'create_db'
  def create_db
    CreateDB.new().execute!
  end
end

Lotus.start(ARGV)
